{
  "examples": [
    {
      "rule_id": "RULE-API-001",
      "priority": "MUST",
      "area": "API",
      "title": "RESTful API ì„¤ê³„ ì›ì¹™",
      "description": "ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ëŠ” RESTful ì›ì¹™ì„ ë”°ë¼ì•¼ í•˜ë©°, HTTP ë©”ì„œë“œì™€ URL êµ¬ì¡°ê°€ ì¼ê´€ë˜ì–´ì•¼ í•¨",
      "scope": {
        "file_patterns": ["**/controller/**/*.java", "**/api/**/*.ts"],
        "package_patterns": ["com.example.api", "src.api"],
        "annotation_patterns": ["@RestController", "@Controller", "@app.route"]
      },
      "validation_conditions": {
        "http_methods": ["GET", "POST", "PUT", "DELETE", "PATCH"],
        "code_patterns": [
          "@GetMapping\\(.*\\)",
          "@PostMapping\\(.*\\)",
          "@PutMapping\\(.*\\)",
          "@DeleteMapping\\(.*\\)"
        ],
        "dependency_rules": [
          {
            "from": "Controller",
            "to": "Service",
            "direction": "allowed"
          },
          {
            "from": "Controller",
            "to": "Repository",
            "direction": "forbidden"
          }
        ]
      },
      "reference_info": {
        "confluence_url": "https://confluence.kt-atla.com/pages/api-design-guide",
        "openapi_spec": "openapi_spec_v1",
        "related_rules": ["RULE-API-002", "RULE-ARCH-001"],
        "technical_specs": {
          "openapi_version": "3.0.0",
          "base_path": "/api/v1"
        }
      },
      "reliability": {
        "total_score": 95,
        "extraction_method": "standardized",
        "extraction_score": 40,
        "completeness_score": 55,
        "gate_threshold": 90
      },
      "development_info": {
        "mdc_template": {
          "title": "RESTful API ì„¤ê³„ ê·œì¹™",
          "description": "API ì—”ë“œí¬ì¸íŠ¸ëŠ” RESTful ì›ì¹™ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤",
          "rule_text": "ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ëŠ” RESTful ì›ì¹™ì„ ë”°ë¼ì•¼ í•˜ë©°, HTTP ë©”ì„œë“œì™€ URL êµ¬ì¡°ê°€ ì¼ê´€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤",
          "examples": [
            {
              "title": "ì˜¬ë°”ë¥¸ GET ì—”ë“œí¬ì¸íŠ¸",
              "code": "@GetMapping(\"/users/{id}\")\npublic ResponseEntity<User> getUser(@PathVariable Long id) {\n    // êµ¬í˜„\n}",
              "description": "ë¦¬ì†ŒìŠ¤ ì¡°íšŒëŠ” GET ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  URLì— ë¦¬ì†ŒìŠ¤ IDë¥¼ í¬í•¨"
            },
            {
              "title": "ì˜¬ë°”ë¥¸ POST ì—”ë“œí¬ì¸íŠ¸",
              "code": "@PostMapping(\"/users\")\npublic ResponseEntity<User> createUser(@RequestBody User user) {\n    // êµ¬í˜„\n}",
              "description": "ë¦¬ì†ŒìŠ¤ ìƒì„±ì€ POST ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  ìš”ì²­ ë³¸ë¬¸ì— ë°ì´í„°ë¥¼ í¬í•¨"
            }
          ],
          "anti_examples": [
            {
              "title": "ì˜ëª»ëœ ë©”ì„œë“œëª…",
              "code": "@GetMapping(\"/getUserData\")\npublic ResponseEntity<User> getUserData(@RequestParam Long id) {\n    // êµ¬í˜„\n}",
              "description": "URLì— ë™ì‚¬(getUserData)ë¥¼ í¬í•¨í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ëª…(users)ì„ ì‚¬ìš©í•˜ì„¸ìš”"
            }
          ]
        },
        "snippet_template": {
          "class_template": "@RestController\n@RequestMapping(\"/api/v1\")\npublic class {ClassName} {\n    \n    @Autowired\n    private {ServiceName} {serviceName};\n    \n    // ì—”ë“œí¬ì¸íŠ¸ ë©”ì„œë“œë“¤\n}",
          "method_template": "@{HttpMethod}(\"/{resource}\")\npublic ResponseEntity<{ResponseType}> {methodName}(@PathVariable {ParamType} {paramName}) {\n    {ResponseType} result = {serviceName}.{serviceMethod}({paramName});\n    return ResponseEntity.ok(result);\n}",
          "annotation_template": "@{HttpMethod}(\"/{resource}\")",
          "variable_naming": {
            "pattern": "^[a-z][a-zA-Z0-9]*$",
            "examples": ["userService", "userController", "getUserById"]
          }
        },
        "realtime_guide": {
          "violation_message": "API ì—”ë“œí¬ì¸íŠ¸ê°€ RESTful ì›ì¹™ì„ ìœ„ë°˜í–ˆìŠµë‹ˆë‹¤. HTTP ë©”ì„œë“œì™€ URL êµ¬ì¡°ë¥¼ í™•ì¸í•˜ì„¸ìš”",
          "suggestion_message": "ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ê³  HTTP ë©”ì„œë“œë¥¼ ì ì ˆíˆ ì„ íƒí•˜ì„¸ìš”. ì˜ˆ: GET /users/{id}",
          "warning_message": "URLì— ë™ì‚¬ë¥¼ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”",
          "tip_message": "RESTful APIëŠ” ë¦¬ì†ŒìŠ¤ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í•˜ê³ , HTTP ë©”ì„œë“œë¡œ ë™ì‘ì„ í‘œí˜„í•©ë‹ˆë‹¤"
        },
        "violation_detection": {
          "patterns": [
            "getUserData|getUserInfo|getUserDetails",
            "createUser|addUser|insertUser",
            "updateUser|modifyUser|editUser",
            "deleteUser|removeUser|destroyUser"
          ],
          "severity": "ERROR",
          "fix_suggestions": [
            "URLì—ì„œ ë™ì‚¬ë¥¼ ì œê±°í•˜ê³  ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”",
            "HTTP ë©”ì„œë“œë¥¼ ì ì ˆíˆ ì„ íƒí•˜ì„¸ìš” (GET, POST, PUT, DELETE)",
            "URL êµ¬ì¡°ë¥¼ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ì„¸ìš”"
          ]
        }
      },
      "ci_info": {
        "archunit_rule": {
          "test_name": "api_should_be_restful",
          "rule_definition": "classes().that().areAnnotatedWith(RestController.class).should().haveSimpleNameEndingWith(\"Controller\")",
          "imports": [
            "com.tngtech.archunit.junit.ArchTest",
            "com.tngtech.archunit.lang.ArchRule",
            "org.springframework.web.bind.annotation.RestController"
          ]
        },
        "semgrep_rule": {
          "rule_id": "restful-api-naming",
          "patterns": [
            {
              "pattern": "@GetMapping\\(\"/get.*\"\\)",
              "message": "URLì— ë™ì‚¬ë¥¼ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”"
            },
            {
              "pattern": "@PostMapping\\(\"/create.*\"\\)",
              "message": "URLì— ë™ì‚¬ë¥¼ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”"
            }
          ],
          "languages": ["java"],
          "severity": "ERROR"
        },
        "openapi_rule": {
          "rule_name": "restful-api-consistency",
          "paths": [
            {
              "pattern": "/api/v1/**",
              "rules": {
                "no_breaking_changes": true,
                "no_removed_endpoints": true,
                "no_removed_parameters": true,
                "no_type_changes": true
              }
            }
          ]
        },
        "drift_calculation": {
          "rule_weight": 1.0,
          "area_weight": 1.0,
          "violation_points": {
            "MUST": 10,
            "SHOULD": 5,
            "MUST NOT": 15
          }
        },
        "pr_comment": {
          "card_title": "ğŸš¨ API ì„¤ê³„ ìœ„ë°˜",
          "violation_summary": "RESTful ì›ì¹™ì„ ìœ„ë°˜í•œ API ì—”ë“œí¬ì¸íŠ¸ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤",
          "fix_guidance": "URLì—ì„œ ë™ì‚¬ë¥¼ ì œê±°í•˜ê³  ë¦¬ì†ŒìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”. HTTP ë©”ì„œë“œë¡œ ë™ì‘ì„ í‘œí˜„í•˜ì„¸ìš”",
          "code_example": "@GetMapping(\"/users/{id}\")\npublic ResponseEntity<User> getUser(@PathVariable Long id) {\n    // êµ¬í˜„\n}"
        },
        "workflow_config": {
          "enabled_tools": ["archunit", "semgrep", "openapi_diff"],
          "execution_order": ["archunit", "semgrep", "openapi_diff"],
          "conditional_execution": {
            "file_patterns": ["**/controller/**/*.java", "**/api/**/*.ts"],
            "language_detection": true
          }
        }
      },
      "metadata": {
        "created_at": "2024-01-15T10:30:00Z",
        "updated_at": "2024-01-15T10:30:00Z",
        "version": "1.0.0",
        "author": "ê¹€ê°œë°œ",
        "tags": ["api", "restful", "controller", "spring"]
      }
    },
    {
      "rule_id": "RULE-ARCH-001",
      "priority": "MUST",
      "area": "ARCH",
      "title": "ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™",
      "description": "ControllerëŠ” Serviceë§Œ ì˜ì¡´í•´ì•¼ í•˜ë©°, ServiceëŠ” Repositoryë§Œ ì˜ì¡´í•´ì•¼ í•¨",
      "scope": {
        "file_patterns": ["**/controller/**/*.java", "**/service/**/*.java", "**/repository/**/*.java"],
        "package_patterns": ["com.example.controller", "com.example.service", "com.example.repository"],
        "annotation_patterns": ["@Controller", "@Service", "@Repository"]
      },
      "validation_conditions": {
        "dependency_rules": [
          {
            "from": "Controller",
            "to": "Service",
            "direction": "allowed"
          },
          {
            "from": "Controller",
            "to": "Repository",
            "direction": "forbidden"
          },
          {
            "from": "Service",
            "to": "Repository",
            "direction": "allowed"
          },
          {
            "from": "Service",
            "to": "Controller",
            "direction": "forbidden"
          }
        ]
      },
      "reference_info": {
        "confluence_url": "https://confluence.kt-atla.com/pages/architecture-layered-design",
        "related_rules": ["RULE-API-001", "RULE-DATA-001"],
        "technical_specs": {
          "architecture_pattern": "Layered Architecture",
          "dependency_direction": "Controller â†’ Service â†’ Repository"
        }
      },
      "reliability": {
        "total_score": 92,
        "extraction_method": "standardized",
        "extraction_score": 40,
        "completeness_score": 52,
        "gate_threshold": 90
      },
      "development_info": {
        "mdc_template": {
          "title": "ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™",
          "description": "ControllerëŠ” Serviceë§Œ ì˜ì¡´í•´ì•¼ í•˜ë©°, ServiceëŠ” Repositoryë§Œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤",
          "rule_text": "ê³„ì¸µ ê°„ ì˜ì¡´ì„±ì€ ë‹¨ë°©í–¥ìœ¼ë¡œë§Œ í˜ëŸ¬ì•¼ í•˜ë©°, ìƒìœ„ ê³„ì¸µì€ í•˜ìœ„ ê³„ì¸µë§Œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤",
          "examples": [
            {
              "title": "ì˜¬ë°”ë¥¸ Controller",
              "code": "@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n    \n    @GetMapping(\"/users/{id}\")\n    public ResponseEntity<User> getUser(@PathVariable Long id) {\n        User user = userService.findById(id);\n        return ResponseEntity.ok(user);\n    }\n}",
              "description": "ControllerëŠ” Serviceë§Œ ì˜ì¡´í•˜ê³  Repositoryë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•ŠìŒ"
            }
          ],
          "anti_examples": [
            {
              "title": "ì˜ëª»ëœ Controller",
              "code": "@RestController\npublic class UserController {\n    @Autowired\n    private UserRepository userRepository;\n    \n    @GetMapping(\"/users/{id}\")\n    public ResponseEntity<User> getUser(@PathVariable Long id) {\n        User user = userRepository.findById(id);\n        return ResponseEntity.ok(user);\n    }\n}",
              "description": "Controllerê°€ Repositoryë¥¼ ì§ì ‘ ì˜ì¡´í•˜ë©´ ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™ì„ ìœ„ë°˜"
            }
          ]
        },
        "snippet_template": {
          "class_template": "@{LayerAnnotation}\npublic class {ClassName} {\n    \n    @Autowired\n    private {DependencyType} {dependencyName};\n    \n    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§\n}",
          "method_template": "public {ReturnType} {methodName}({ParameterType} {parameterName}) {\n    // {LayerName} ê³„ì¸µ ë¡œì§\n    return {dependencyName}.{dependencyMethod}({parameterName});\n}",
          "variable_naming": {
            "pattern": "^[a-z][a-zA-Z0-9]*$",
            "examples": ["userService", "userRepository", "orderService"]
          }
        },
        "realtime_guide": {
          "violation_message": "ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™ì„ ìœ„ë°˜í–ˆìŠµë‹ˆë‹¤. ìƒìœ„ ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µë§Œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤",
          "suggestion_message": "ControllerëŠ” Serviceë§Œ ì˜ì¡´í•˜ê³ , ServiceëŠ” Repositoryë§Œ ì˜ì¡´í•˜ì„¸ìš”",
          "warning_message": "Repositoryë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”. Service ê³„ì¸µì„ í†µí•´ ì ‘ê·¼í•˜ì„¸ìš”",
          "tip_message": "ê³„ì¸µ ê°„ ì˜ì¡´ì„±ì€ ë‹¨ë°©í–¥ìœ¼ë¡œë§Œ í˜ëŸ¬ì•¼ í•˜ë©°, ìƒìœ„ ê³„ì¸µì€ í•˜ìœ„ ê³„ì¸µë§Œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤"
        },
        "violation_detection": {
          "patterns": [
            "@Autowired.*Repository",
            "private.*Repository.*;",
            "userRepository\\.",
            "orderRepository\\."
          ],
          "severity": "ERROR",
          "fix_suggestions": [
            "Repository ì˜ì¡´ì„±ì„ ì œê±°í•˜ê³  Serviceë¥¼ ì˜ì¡´í•˜ì„¸ìš”",
            "Service ê³„ì¸µì„ í†µí•´ Repositoryì— ì ‘ê·¼í•˜ì„¸ìš”",
            "ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ì„¸ìš”"
          ]
        }
      },
      "ci_info": {
        "archunit_rule": {
          "test_name": "controller_should_only_depend_on_service",
          "rule_definition": "classes().that().resideInAPackage(\"..controller..\").should().onlyDependOnClassesThat().resideInAnyPackage(\"..service..\", \"java..\", \"javax..\", \"org.springframework..\")",
          "imports": [
            "com.tngtech.archunit.junit.ArchTest",
            "com.tngtech.archunit.lang.ArchRule",
            "com.tngtech.archunit.library.Architectures"
          ]
        },
        "semgrep_rule": {
          "rule_id": "layered-architecture-violation",
          "patterns": [
            {
              "pattern": "@Autowired\\s+private\\s+.*Repository\\s+.*;",
              "message": "Controllerì—ì„œ Repositoryë¥¼ ì§ì ‘ ì˜ì¡´í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. Serviceë¥¼ ì‚¬ìš©í•˜ì„¸ìš”"
            }
          ],
          "languages": ["java"],
          "severity": "ERROR"
        },
        "drift_calculation": {
          "rule_weight": 0.8,
          "area_weight": 0.8,
          "violation_points": {
            "MUST": 10,
            "SHOULD": 5,
            "MUST NOT": 15
          }
        },
        "pr_comment": {
          "card_title": "ğŸ—ï¸ ì•„í‚¤í…ì²˜ ìœ„ë°˜",
          "violation_summary": "ê³„ì¸µ ë¶„ë¦¬ ì›ì¹™ì„ ìœ„ë°˜í•œ ì˜ì¡´ì„±ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤",
          "fix_guidance": "ControllerëŠ” Serviceë§Œ ì˜ì¡´í•˜ê³ , ServiceëŠ” Repositoryë§Œ ì˜ì¡´í•˜ì„¸ìš”",
          "code_example": "@Autowired\nprivate UserService userService; // Repository ëŒ€ì‹  Service ì‚¬ìš©"
        },
        "workflow_config": {
          "enabled_tools": ["archunit", "semgrep"],
          "execution_order": ["archunit", "semgrep"],
          "conditional_execution": {
            "file_patterns": ["**/controller/**/*.java", "**/service/**/*.java", "**/repository/**/*.java"],
            "language_detection": true
          }
        }
      },
      "metadata": {
        "created_at": "2024-01-15T10:30:00Z",
        "updated_at": "2024-01-15T10:30:00Z",
        "version": "1.0.0",
        "author": "ê¹€ê°œë°œ",
        "tags": ["architecture", "layered", "dependency", "separation"]
      }
    }
  ]
}
